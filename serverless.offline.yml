service: ${file(./serverless.yml):service}

useDotenv: true

plugins:
  - serverless-plugin-typescript
  - serverless-offline
  - serverless-secrets-plugin
  - serverless-webpack



package: ${file(./serverless.yml):package}

custom:
  webpack:
    webpackConfig: './webpack.config.js'
    includeModules: true
  secrets: ${file(./secrets.yml):${self:provider.stage}}

provider:
  name: ${file(./serverless.yml):provider.name}
  runtime: ${file(./serverless.yml):provider.runtime}
  region: ${file(./serverless.yml):provider.region}
  stage: local
  environment:
    GOOGLE_CLIENT_ID: "mock-id"
    DB_PROD_HOST: ${self:custom.secrets.BD_AWS_HOST}
    DB_PROD_PORT: 5432
    DB_PROD_USER: ${self:custom.secrets.DB_PROD_USER}
    DB_PROD_PASS: ${self:custom.secrets.DB_PROD_PASS}
    MIGRATAION: false


functions: ${file(./serverless.yml):functions}
